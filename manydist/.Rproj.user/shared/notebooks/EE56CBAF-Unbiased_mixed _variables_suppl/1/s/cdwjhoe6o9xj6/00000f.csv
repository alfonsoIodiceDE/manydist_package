"0",""
"0","# Updated variants to include Gmod (modified Gower)"
"0","variants<-c(""Num"",""HLa"",""HL"", ""Ustd"", ""G"",""Gmod"",""Udep"",""Naive"",""Uind"")"
"0","# Updated reordering - adjust the position of Gmod as needed"
"0","varreorder<-c(1,8,3,2,5,6,9,4,7)"
"0",""
"0","meas_to_plot_mad = Measures_tib |> "
"0","  mutate(meas=map(.x=meas,function(x=.x){colnames(x)=variants[varreorder];return(x)}),"
"0","         meas=map(.x=meas,~.x |> slice(c(3:6,1,2)))"
"0","  ) |> "
"0","  unnest(meas) |>mutate(loo_v=paste0(""var"",rep(1:6,times=5))) |>  "
"0","  filter(meas_name %in% c(""MAD""))"
"0",""
"0","meas_to_plot_mad_rel = Measures_tib |> "
"0","  mutate(meas=map(.x=meas,function(x=.x){colnames(x)=variants[varreorder];return(x)}),"
"0","         meas=map(.x=meas,~.x |> slice(c(3:6,1,2)))"
"0","  ) |> "
"0","  unnest(meas) |>mutate(loo_v=paste0(""var"",rep(1:6,times=5))) |>  "
"0","  filter(meas_name %in% c(""MAD distribution""))"
"0",""
"0","###################"
"0","mad_max = max(meas_to_plot_mad |> select(where(is.numeric)))"
"0","rect_data = tibble("
"0","  xmin_cont=4.5,xmax_cont=6,ymin_cont=0,ymax_cont=mad_max,"
"0","  xmin_cat=.5,xmax_cat=4.5,ymin_cat=0,ymax_cat=mad_max)"
"0",""
"0","mad_max_rel = max(meas_to_plot_mad_rel |> select(where(is.numeric)))"
"0","rect_data_rel = tibble("
"0","  xmin_cont=4.5,xmax_cont=6,ymin_cont=0,ymax_cont=mad_max_rel,"
"0","  xmin_cat=.5,xmax_cat=4.5,ymin_cat=0,ymax_cat=mad_max_rel)"
"0",""
"0","# Updated to include Gmod in the pivot_longer"
"0","loo_mad_plot = meas_to_plot_mad |> pivot_longer(cols=Num:Uind, names_to=""variant_name"",values_to=""value"") |> "
"0","  ggplot(aes(x = parse_number(loo_v), y = value,"
"0","             color = variant_name)) +"
"0","  geom_rect(data=rect_data,aes(xmin=xmin_cont,xmax=xmax_cont,ymin=ymin_cont,ymax=ymax_cont),"
"0","            alpha = .2,fill=""indianred"",color=""lightgrey"",inherit.aes = FALSE)+"
"0","  geom_rect(data=rect_data,aes(xmin=xmin_cat,xmax=xmax_cat,ymin=ymin_cat,ymax=ymax_cat),"
"0","            alpha = .2,fill=""dodgerblue"",color=""lightgrey"",inherit.aes = FALSE)+"
"0","  geom_point()+geom_line(aes(lty=variant_name)) + "
"0","  ylab(""absolute variable contribution to distance"")+"
"0","  xlab(""left-out variable"") +  theme_bw() + theme(legend.position = ""none"")+"
"0","  scale_x_continuous(breaks=seq(1,6,1),labels = c(""2 cats"", ""3 cats"", ""5 cats"", ""9 cats"", ""num 1"", ""num 2""))+"
"0","  theme(axis.text.x = element_text(angle = 60, hjust = 1))"
"0",""
"0","loo_mad_rel_plot = meas_to_plot_mad_rel |> pivot_longer(cols=Num:Uind, names_to=""variant_name"",values_to=""value"") |> "
"0","  ggplot(aes(x = parse_number(loo_v), y = value,"
"0","             color = variant_name)) + "
"0","  geom_rect(data=rect_data_rel,aes(xmin=xmin_cont,xmax=xmax_cont,ymin=ymin_cont,ymax=ymax_cont),"
"0","            alpha = .2,fill=""indianred"",color=""lightgrey"",inherit.aes = FALSE)+"
"0","  geom_rect(data=rect_data_rel,aes(xmin=xmin_cat,xmax=xmax_cat,ymin=ymin_cat,ymax=ymax_cat),"
"0","            alpha = .2,fill=""dodgerblue"",color=""lightgrey"",inherit.aes = FALSE)+"
"0","  geom_point()+geom_line(aes(lty=variant_name)) + "
"0","  ylab(""relative variable contribution to distance"") +"
"0","  xlab(""left-out variable"") +  theme_bw() + "
"0","  scale_x_continuous(breaks=seq(1,6,1),labels = c(""2 cats"", ""3 cats"", ""5 cats"", ""9 cats"", ""num 1"", ""num 2""))+"
"0","  theme(axis.text.x = element_text(angle = 60, hjust = 1))"
"0",""
"0","fig_1_plot = loo_mad_plot | loo_mad_rel_plot"
